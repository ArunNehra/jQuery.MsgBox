/**************************************************************************************
 * jQuery MsgBox 0.7.5
 * by composite (ukjinplant@msn.com)
 * http://blog.hazard.kr
 * This project licensed under a MIT License.
 **************************************************************************************/;
(function(f){if(!window.console){window.console={};window.console.log=f.noop}var d="fixed",b="div",h="keypress",e="resize",g="v"=="\v",c=function(j){return !j||j=="auto"},i=function(j){return f(document.createElement(j))};var a=function(o,p){if(a.once&&!p){return}o=o||{};var m=a.style?a.style:(a.style=i("style").addClass("msgbox-style").attr("type","text/css")),j=[];for(var l in o){if(!o[l]){continue}var n=o[l];j.push(".msgbox-"+l);j.push("{");for(var k in n){if(g){switch(k){case"opacity":j.push("filter:alpha(opacity="+(+(n[k].substring(0,1)=="."?("0"+n[k]):n[k])*100||100)+");");break;default:j.push(k+":"+n[k]+";");break}}else{j.push(k+":"+n[k]+";")}}j.push("}")}m.each(function(){var q=j.join("");if(g){this.styleSheet.cssText=q}else{this.innerHTML=q}}).appendTo("head");a.once=true};f.msgbox=function(m,l){l=f.extend({},f.msgbox.options,l);if(!f(".msgbox-style").length){a(f.msgbox.css)}var o={},j="msgbox-",n=j+"ok",H=j+"no",x="password",r=l.css||{},v=!0,E=!1,A=l.input!==false&&l.input!=undefined&&l.input!=null,y=!!l.confirm,K=function(p){setTimeout(function(){var q=f(document.activeElement),t=["."+j+"input","."+j+"button"];if(q.length&&(q.is(t[0])||q.is(t[1]))){}else{F.find(t+"").eq(0).focus()}},0)},s=f(window),F=i("div").addClass(j+"container").append(i(b).addClass(j+"ui").addClass(j+(A?"prompt":(y?"confirm":"alert")))).children(),B=i(b).addClass(j+"modal"),u=i(b).addClass(j+"msg").html(m).appendTo(F),C=A?f("<div><input type='"+(l[x]?x:"text")+"'/></div>").addClass(j+"inbox").children().addClass(j+"input").bind("keydown",function(q){var p=q.which;if(p==9&&q.shiftKey){q.preventDefault();F.find("."+j+"button").filter(":last").focus()}else{switch(p){case 13:q.preventDefault();F.find("button."+n).trigger("click");return false;case 27:q.preventDefault();F.find("button."+(A||y?H:n)).trigger("click");break}}}).bind("blur",K).end().appendTo(F):null,G=i(b).addClass(j+"buttons").appendTo(F),w=i("button").addClass(j+"button").bind("keydown",function(M){if(this!=document.activeElement){return}M.stopPropagation();var t=M.which,q=f(this),L,p=M.shiftKey;switch(t){case 9:case 39:M.preventDefault();if(L=q[t==9&&p?"prev":"next"]("button"),L.length){L.focus()}else{if(t==9){if(L=F.find("."+j+"input"),L.length){L.select()}else{if(L=q[p?"next":"prev"]("button"),L.length){L.focus()}}}}break;case 37:M.preventDefault();if(L=q.prev("button"),L.length){L.focus()}break;case 27:M.preventDefault();F.find("button."+(A||y?H:n)).trigger("click");break}}).bind("blur",K),z=[w.clone(v).addClass(n).text(y?l.yes:l.ok).appendTo(G),A||y?w.clone(v).addClass(H).text(l.no).appendTo(G):null];F.add(B).bind("keydown",function(){});f.extend(F[0],{container:F.parent()[0],modal:B[0],msg:u[0],inbox:C?C[0]:null,buttons:G[0]});if(A){l.confirm=v;if(l.input!==true){C.children().val(l.input)}}s.bind(e,o[e]=function(){if(!o.firstWidth){o.firstUnder=true;o.firstWidth=F.outerWidth()}var p=s.width()-20<=o.firstWidth;if(!f.isFunction(l.onresize)){if(f.isFunction(f.msgbox.onresize)){f.msgbox.onresize.call(F[0],o)}}else{l.onresize.call(F[0],o)}});o.before=function(q){q.stopPropagation();var p=window.event?window.event.keyCode:q.which;if(q.target.type=="text"&&!p){F.find("button."+(A||y?H:n)).trigger("click");return E}switch(p){case 13:F.find("button:focus").trigger("click");return E;case 27:F.find("button."+(A||y?H:n)).trigger("click");return E}};var J="."+j+"ui,."+j+"modal",D=f(document.documentElement||document.body).append(B).append(F.parent()).bind(h,o.before);o.after=function(p,q){var t=f(p).hasClass(n);switch(v){case A:l.submit.call(F[0],t?q:null);break;case y:l.submit.call(F[0],t);break;default:l.submit.call(F[0]);break}D.unbind(h,o.before);s.unbind(e,o[e])};F.delegate("button","click",function(t){var p=function(){F.parent().add(B).remove()},q=l.onclose||f.msgbox.onclose;o.after(this,A?C.children().val():null);if(f.isFunction(q)){f.when(q.call(F[0],A?I.children().val():f(this).hasClass(n))).always(p)}else{p()}});var k=function(){s.trigger(e);if(A){F.find("input:text").select()}else{F.find("button:eq(0)").focus()}var p=l.onopen||f.msgbox.onopen;if(f.isFunction(p)){p.call(F[0],l)}};if(g){setTimeout(k,0)}else{k()}return F};f.extend(f.msgbox,{strings:{ok:"OK",yes:"OK",no:"Cancel"},css:{container:{position:d,left:"50%",top:"32%","z-index":"9001"},ui:{border:"1px solid black",font:"9pt verdana,gulim,sans-serif","background-color":"white",position:"relative",left:"-50%",top:"32%",overflow:"hidden","float":"right"},modal:{position:d,left:"0",top:"0",right:"0",bottom:"0","background-color":"black",opacity:".4","z-index":"9000"},msg:{padding:"2em 4em",overflow:"hidden","font-family":"verdana,gulim,sans-serif","white-space":"pre-wrap","word-wrap":"break-word"},buttons:{padding:"1em","background-color":"#eee","text-align":"right",overflow:"hidden"},button:{width:"72px",margin:"auto .25em"},inbox:{width:"90%",margin:"-1em auto 1em",border:"1px inset #3D7BAD"},input:{width:"99%",display:"block",border:"0"}},onresize:function(m){var k=f(this),j=k.parent();if(!m.firstWidth){m.firstUnder=true;m.firstWidth=k.outerWidth()}var l=f(window).width()-20<=m.firstWidth;if(l&&!m.isOver){m.isOver=true;j.css({left:"10px",right:"10px","margin-top":~~(-k.outerHeight()*0.32)+"px","min-width":""});k.css({position:"static"})}else{if((!l&&m.isOver)||m.firstUnder){m.firstUnder=false;m.isOver=false;j.css({left:"",right:"","margin-top":~~(-k.outerHeight()*0.32)+"px","min-width":m.firstWidth+"px"});k.css({position:""})}}}});f.msgbox.options={submit:function(){},confirm:false,ok:f.msgbox.strings.ok,yes:f.msgbox.strings.yes,no:f.msgbox.strings.no};f.alert=function(j,k){return f.msgbox(j,{submit:k})};f.confirm=function(j,k){return f.msgbox(j,{confirm:true,submit:k})};f.prompt=function(m,l,n,k){var j=f.isFunction(l);return f.msgbox(m,{input:j?true:l,submit:j?l:n,password:j?n:k})}})(jQuery);